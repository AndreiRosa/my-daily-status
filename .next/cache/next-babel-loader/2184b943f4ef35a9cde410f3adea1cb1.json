{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\andre\\\\Desktop\\\\mydailystatus\\\\pages\\\\create-status.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport auth0 from '../lib/auth0';\nimport axios from 'axios';\nconst status = [{\n  value: \"well\",\n  text: \"Estou bem e sem sintomas.\"\n}, {\n  value: \"flu\",\n  text: \"Estou com sintomas de gripe / resfriado.\"\n}, {\n  value: \"covid\",\n  text: \"Estou com sintomas de COVID-19.\"\n}];\n\nconst CreateStatus = () => {\n  const {\n    0: data,\n    1: setData\n  } = useState({\n    status: \"well\",\n    coords: {\n      latitude: null,\n      longitude: null\n    }\n  });\n\n  const onStatusChange = event => {\n    const value = event.target.value;\n    setData(_objectSpread({}, data, {\n      status: value\n    }));\n  };\n\n  const getMyLocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const {\n          latitude,\n          longitude\n        } = position.coords;\n        setData(_objectSpread({}, data, {\n          coords: {\n            latitude,\n            longitude\n          }\n        }));\n      });\n    }\n  };\n\n  const save = async () => {\n    await axios.post(\"/api/save-status\", data);\n  };\n\n  return __jsx(\"div\", {\n    className: \"text-center mx-auto container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"text-bold text-4xl py-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"Criar Status\"), status.map(({\n    value,\n    text\n  }) => __jsx(\"label\", {\n    key: value,\n    className: \"py-2 block text-lg container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    name: \"status\",\n    value: value,\n    onClick: onStatusChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }), text)), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), __jsx(\"button\", {\n    className: \"rounded block bg-pink-200 shadow hover:shadow-xs mx-auto\",\n    onClick: getMyLocation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"Obter minha localiza\\xE7\\xE3o\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 140\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 145\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 150\n    }\n  }), __jsx(\"button\", {\n    className: \"py-4 px-2 rounded bg-pink-800 text-white block w-1/4 shadow-xl hover:shadow mx-auto\",\n    onClick: save,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"Salvar status\"));\n};\n\nexport async function getServerSideProps({\n  req,\n  res\n}) {\n  const session = await auth0.getSession(req);\n\n  if (session) {\n    return {\n      props: {\n        isAuth: true,\n        user: session.user\n      }\n    };\n  }\n\n  return {\n    props: {\n      isAuth: false,\n      user: {}\n    }\n  };\n}\nexport default CreateStatus;","map":{"version":3,"sources":["C:/Users/andre/Desktop/mydailystatus/pages/create-status.js"],"names":["React","useState","auth0","axios","status","value","text","CreateStatus","data","setData","coords","latitude","longitude","onStatusChange","event","target","getMyLocation","navigator","geolocation","getCurrentPosition","position","save","post","map","getServerSideProps","req","res","session","getSession","props","isAuth","user"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport auth0 from '../lib/auth0'\r\nimport axios from 'axios'\r\n\r\nconst status = [\r\n  {\r\n    value: \"well\",\r\n    text: \"Estou bem e sem sintomas.\",\r\n  },\r\n  {\r\n    value: \"flu\",\r\n    text: \"Estou com sintomas de gripe / resfriado.\",\r\n  },\r\n  {\r\n    value: \"covid\",\r\n    text: \"Estou com sintomas de COVID-19.\",\r\n  },\r\n];\r\n\r\nconst CreateStatus = () => {\r\n  const [data, setData] = useState({\r\n    status: \"well\",\r\n    coords: {\r\n      latitude: null,\r\n      longitude: null,\r\n    },\r\n  })\r\n\r\n  const onStatusChange = event => {\r\n    const value = event.target.value\r\n    setData({ ...data, status: value })\r\n  }\r\n\r\n  const getMyLocation = () => {\r\n    if(navigator.geolocation){\r\n      navigator.geolocation.getCurrentPosition(position => {\r\n        const { latitude, longitude } = position.coords;\r\n        setData({...data, coords: {latitude, longitude}})\r\n      })\r\n    }\r\n  }\r\n\r\n  const save = async () => {\r\n    await axios.post(\"/api/save-status\", data);\r\n  };\r\n\r\n  return(\r\n    <div className='text-center mx-auto container'>\r\n      <h1 className='text-bold text-4xl py-8'>Criar Status</h1>\r\n      {status.map(({ value, text }) => (\r\n        <label key={value} className=\"py-2 block text-lg container\">\r\n          <input\r\n            type=\"radio\"\r\n            name=\"status\"\r\n            value={value}\r\n            onClick={onStatusChange}\r\n          />\r\n          {text}\r\n        </label>\r\n      ))} <br/>\r\n      <button className='rounded block bg-pink-200 shadow hover:shadow-xs mx-auto' onClick={getMyLocation}>Obter minha localização</button><br/><br/><br/>\r\n      <button className='py-4 px-2 rounded bg-pink-800 text-white block w-1/4 shadow-xl hover:shadow mx-auto' onClick={save}>Salvar status</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport async function getServerSideProps({req, res}){\r\n  const session = await auth0.getSession(req)\r\n  if (session){\r\n    return{\r\n      props:{\r\n        isAuth: true,\r\n        user: session.user,\r\n      }\r\n    }\r\n  } \r\n\r\n  return{\r\n    props:{\r\n      isAuth: false,\r\n      user:{}\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default CreateStatus"]},"metadata":{},"sourceType":"module"}